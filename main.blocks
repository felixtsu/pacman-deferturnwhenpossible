<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="iZ0Is}*N^|[:O4M6Ks+)">mySprite</variable><variable id="ovN(?+j+_AkXD,.5D3ah">pacmanSprite</variable><variable id="dv.O%WW[.B4KExRH^vW~">PACMAN_SPEED</variable><variable id="MzQoFf/9hOeWVArb[Ri{">EPSILON</variable><variable id="gUN5=60Q*itGJJwPCCi%">MISSED_EPSILON</variable><variable type="KIND_SpriteKind" id="OXpeniY$5kLw;p8=(`@k">Pacman</variable><variable type="KIND_SpriteKind" id="C2+kPApwZoy+cs-p,C8x">Player</variable><variable type="KIND_SpriteKind" id="!`;Bt[UzznW8?+Si[*9N">Projectile</variable><variable type="KIND_SpriteKind" id="gG1;lDItI4X96nFtq`]~">Food</variable><variable type="KIND_SpriteKind" id="d=+vFFFR/U1Ch^JOJ!@f">Enemy</variable></variables><block type="pxt-on-start" id="![C2`e]w3vk6_0At5,x#" x="20" y="20"><statement name="HANDLER"><block type="tilemap_editor" id=")}p6fJ[a`%7?tgftE?{I"><field name="tilemap">tilemap`level`</field><next><block type="variables_set" id=")r8+ps-#ruzl;O=qUu}v"><field name="VAR" id="ovN(?+j+_AkXD,.5D3ah">pacmanSprite</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="spritescreate" id="8fTwj0qjepj(Xz?p^=?."><value name="img"><shadow type="screen_image_picker" id="VdbN()*ajQ%cSd4=-3p0"><field name="img">img`
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
`</field></shadow></value><value name="kind"><shadow type="spritekind" id="uCj[^C.dJEWV6+#OZC=f"><field name="MEMBER">Pacman</field></shadow></value></block></value><next><block type="mapplaceontile" id="U=SIa7Zz0.UDz)CVZXzL"><value name="sprite"><shadow type="variables_get" id="k7+c%3tFiE?*oo?$PEHz"><field name="VAR" id="ovN(?+j+_AkXD,.5D3ah">pacmanSprite</field></shadow></value><value name="loc"><shadow type="mapgettile" id="JcuE{J77?P(=3vJ?ur#;"><value name="col"><shadow type="math_number" id="3`0.zv%LB/g}J/l|Do:."><field name="NUM">10</field></shadow></value><value name="row"><shadow type="math_number" id="#5eLKf~tWc8ggrC`LX)~"><field name="NUM">15</field></shadow></value></shadow></value><next><block type="camerafollow" id="*81C(*XwZZ90g:|f/nXy"><value name="sprite"><shadow type="variables_get" id="_~n#!S*I)[K(D{IL)jW)"><field name="VAR" id="ovN(?+j+_AkXD,.5D3ah">pacmanSprite</field></shadow></value><next><block type="variables_set" id="x[$jYfpB_wl^q84cx![B"><field name="VAR" id="MzQoFf/9hOeWVArb[Ri{">EPSILON</field><value name="VALUE"><shadow type="math_number" id="PFxHyNGkBt#?v:_A%tCl"><field name="NUM">4</field></shadow></value><next><block type="variables_set" id="ajxPHvs@W]3Q0mLj5sq8"><field name="VAR" id="gUN5=60Q*itGJJwPCCi%">MISSED_EPSILON</field><value name="VALUE"><shadow type="math_number" id="]5Hi0yUh0`[mPiya_BPc"><field name="NUM">2</field></shadow></value><next><block type="variables_set" id="3}Wtvy|Bn$q8X$,Fh7VZ"><field name="VAR" id="dv.O%WW[.B4KExRH^vW~">PACMAN_SPEED</field><value name="VALUE"><shadow type="math_number" id="ooFe*~0W61#rUBOc5_40"><field name="NUM">50</field></shadow></value><next><block type="typescript_statement" id="[qE[aXxo#H15~?hn!R;H" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function alignIfSuitable(sprite:Sprite, direction:CollisionDirection) {" line1="    let currentLocation = tiles.locationOfSprite(sprite)" line2="    let targetLocation = tiles.locationInDirection(currentLocation, direction)" line3="    if (tiles.tileIsWall(targetLocation)) {" line4="        return;" line5="    }" line6="" line7="    if (Math.abs(sprite.x - currentLocation.x) &gt;= EPSILON) {" line8="        return;" line9="    }" line10="" line11="    if (direction == CollisionDirection.Top || direction == CollisionDirection.Bottom) {" line12="        // correct direction" line13="        if (sprite.vx * (currentLocation.x - sprite.x) &gt;= 0) {" line14="            sprite.x = currentLocation.x" line15="        } else if (Math.abs(sprite.x - currentLocation.x) &lt;= MISSED_EPSILON){" line16="            sprite.x = currentLocation.x" line17="        }" line18="     } else if (direction == CollisionDirection.Left || direction == CollisionDirection.Right) {" line19="         if (sprite.vy * (currentLocation.y - sprite.y) &gt;= 0) {" line20="             sprite.y = currentLocation.y" line21="         }  else if (Math.abs(sprite.y - currentLocation.y) &lt;= MISSED_EPSILON){" line22="            sprite.y = currentLocation.y" line23="        }" line24="     }" line25="}" numlines="26"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="keyonevent" id="56Ink`8x9LHm+unZH]TR" x="1071" y="20"><field name="button">controller.up</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="typescript_statement" id=".D#mnt@!4oaDRaoWbw+/" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="alignIfSuitable(pacmanSprite, CollisionDirection.Top)" numlines="1"></mutation><next><block type="function_call" id="%ayH3pHeTKHRm`YYauZk"><mutation name="turn" functionid="JU)uqIW!b*iWuNIr$N_p"><arg name="sprite" id="ztgt9zzl2dk01sfszle4" type="Sprite"/><arg name="direction" id="7ig0shpam1m1pumxpycup" type="number"/><arg name="speed" id="ad4yewhjv5yzamhrnaut" type="number"/></mutation><value name="ztgt9zzl2dk01sfszle4"><shadow type="variables_get" id="VV[*g8(15*s=bNWVTXZ:"><field name="VAR" id="iZ0Is}*N^|[:O4M6Ks+)">mySprite</field></shadow><block type="variables_get" id="nig-VaX3tH@E+W.w_(Jz"><field name="VAR" id="ovN(?+j+_AkXD,.5D3ah">pacmanSprite</field></block></value><value name="7ig0shpam1m1pumxpycup"><shadow type="math_number" id="w!2eYa2i7nza@jS-(=YL"><field name="NUM">0</field></shadow></value><value name="ad4yewhjv5yzamhrnaut"><shadow type="math_number" id="H%Z(,S:WL{_xxMvDaf=]"><field name="NUM">1</field></shadow><block type="variables_get" id="]RSsvF5pe0Zs.yxQ|:A+"><field name="VAR" id="dv.O%WW[.B4KExRH^vW~">PACMAN_SPEED</field></block></value></block></next></block></statement></block><block type="keyonevent" id="F6=dS/Qjc8FJV}]Sh^|x" x="1709" y="20"><field name="button">controller.down</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="typescript_statement" id="]-^Es17/${rN{)9K[n@d" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="alignIfSuitable(pacmanSprite, CollisionDirection.Bottom)" numlines="1"></mutation><next><block type="function_call" id=";@J4W(v)etN-zo^Pzst3"><mutation name="turn" functionid="JU)uqIW!b*iWuNIr$N_p"><arg name="sprite" id="ztgt9zzl2dk01sfszle4" type="Sprite"/><arg name="direction" id="7ig0shpam1m1pumxpycup" type="number"/><arg name="speed" id="ad4yewhjv5yzamhrnaut" type="number"/></mutation><value name="ztgt9zzl2dk01sfszle4"><shadow type="variables_get" id="eBp#|Va`i5:9Jkp+MUT+"><field name="VAR" id="iZ0Is}*N^|[:O4M6Ks+)">mySprite</field></shadow><block type="variables_get" id="y?dF=b00X`xY^^8bwG0a"><field name="VAR" id="ovN(?+j+_AkXD,.5D3ah">pacmanSprite</field></block></value><value name="7ig0shpam1m1pumxpycup"><shadow type="math_number" id="33MLP/Oryw)k@-U7rXwE"><field name="NUM">2</field></shadow></value><value name="ad4yewhjv5yzamhrnaut"><shadow type="math_number" id="0bJeqXbS-TpWiCY0`MhZ"><field name="NUM">1</field></shadow><block type="variables_get" id="TItMg(R*lsyS$xyKJw1X"><field name="VAR" id="dv.O%WW[.B4KExRH^vW~">PACMAN_SPEED</field></block></value></block></next></block></statement></block><block type="keyonevent" id=".ri!xRYo2UeL/$,=x)vv" x="2375" y="20"><field name="button">controller.left</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="typescript_statement" id="iMv]EFMXq^G?|,zgF0wZ" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="alignIfSuitable(pacmanSprite, CollisionDirection.Left)" numlines="1"></mutation><next><block type="function_call" id="?K=]ZwyJ(Tk9GfY4J5hN"><mutation name="turn" functionid="JU)uqIW!b*iWuNIr$N_p"><arg name="sprite" id="ztgt9zzl2dk01sfszle4" type="Sprite"/><arg name="direction" id="7ig0shpam1m1pumxpycup" type="number"/><arg name="speed" id="ad4yewhjv5yzamhrnaut" type="number"/></mutation><value name="ztgt9zzl2dk01sfszle4"><shadow type="variables_get" id="Yq|R0bKD=8`w1v{~cLp2"><field name="VAR" id="iZ0Is}*N^|[:O4M6Ks+)">mySprite</field></shadow><block type="variables_get" id="kxbU_hBh[r)6k?uML@AR"><field name="VAR" id="ovN(?+j+_AkXD,.5D3ah">pacmanSprite</field></block></value><value name="7ig0shpam1m1pumxpycup"><shadow type="math_number" id="49:7Dm]vVSEDGPV*y`Xm"><field name="NUM">3</field></shadow></value><value name="ad4yewhjv5yzamhrnaut"><shadow type="math_number" id="j`N.1l:2o29uYC4_G(oP"><field name="NUM">1</field></shadow><block type="variables_get" id="W|;^Ae*kEA@^Y$1F9S_["><field name="VAR" id="dv.O%WW[.B4KExRH^vW~">PACMAN_SPEED</field></block></value></block></next></block></statement></block><block type="keyonevent" id="aygId(`!mU+N7JI;UFKn" x="20" y="1565"><field name="button">controller.right</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="typescript_statement" id="-Mz2.`+R.Ph2,-9VWs$Z" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="alignIfSuitable(pacmanSprite, CollisionDirection.Right)" numlines="1"></mutation><next><block type="function_call" id="DWERA)-0HnSZep82r2u]"><mutation name="turn" functionid="JU)uqIW!b*iWuNIr$N_p"><arg name="sprite" id="ztgt9zzl2dk01sfszle4" type="Sprite"/><arg name="direction" id="7ig0shpam1m1pumxpycup" type="number"/><arg name="speed" id="ad4yewhjv5yzamhrnaut" type="number"/></mutation><value name="ztgt9zzl2dk01sfszle4"><shadow type="variables_get" id="TOhXN]$Pb:WoFOj$[T8]"><field name="VAR" id="iZ0Is}*N^|[:O4M6Ks+)">mySprite</field></shadow><block type="variables_get" id="SrGwO2aDE)wem77|l-:i"><field name="VAR" id="ovN(?+j+_AkXD,.5D3ah">pacmanSprite</field></block></value><value name="7ig0shpam1m1pumxpycup"><shadow type="math_number" id="_YC}3|ILJ#AyfgFa~7zB"><field name="NUM">1</field></shadow></value><value name="ad4yewhjv5yzamhrnaut"><shadow type="math_number" id="rbD.qQn1Ud]AL1H]Ri{y"><field name="NUM">1</field></shadow><block type="variables_get" id="F,F?4xc}iyDTJny,IdJn"><field name="VAR" id="dv.O%WW[.B4KExRH^vW~">PACMAN_SPEED</field></block></value></block></next></block></statement></block><block type="function_definition" id="`W6N5+^HB6vH5OJp2A3T" x="677" y="1565"><mutation name="turn" functionid="JU)uqIW!b*iWuNIr$N_p"><arg name="sprite" id="ztgt9zzl2dk01sfszle4" type="Sprite"/><arg name="direction" id="7ig0shpam1m1pumxpycup" type="number"/><arg name="speed" id="ad4yewhjv5yzamhrnaut" type="number"/></mutation><field name="function_name">turn</field><statement name="STACK"><block type="controls_if" id="5lgP3blWw!0WUhIB`;|*"><mutation elseif="2" else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="8M@GMftaK?ZOh?[$6rqe"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="AnV[Q!9a`5yK9+*@:)1I"><field name="VALUE">direction</field></block></value><value name="B"><shadow type="math_number" id="cjBpdx|+/^sE(.S}Y^7a"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="Sprite_blockCombine_set" id="/k*j`kw2Es.Mk`$jBeiw"><field name="property">Sprite.vx@set</field><value name="mySprite"><block type="argument_reporter_custom" id="u))Xj3F9.5+=sR6t?[wK"><mutation typename="Sprite"/><field name="VALUE">sprite</field></block></value><value name="value"><shadow type="math_number" id="SIbbmz08Rz3?zh=*l%b9"><field name="NUM">0</field></shadow></value><next><block type="Sprite_blockCombine_set" id="ep-~OuNOR3SL3^d$cA}j"><field name="property">Sprite.vy@set</field><value name="mySprite"><block type="argument_reporter_custom" id="nhLANdPzB{QP5BVEp%:H"><mutation typename="Sprite"/><field name="VALUE">sprite</field></block></value><value name="value"><block type="math_arithmetic" id="fe9;cQct}P.9klORMzeE"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id=":Ygr%?Th/ly,v/{cE{F1"><field name="NUM">0</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="Pu/@YPdv5]4tBdXE`B45"><field name="VALUE">speed</field></block></value></block></value></block></next></block></statement><value name="IF1"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="~7C^^VWP(YvY7p*pDD,F"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="9I5PQ%_69:T#B{WwC0@a"><field name="VALUE">direction</field></block></value><value name="B"><shadow type="math_number" id=",f+*pg]QXlf!GW{r]YyU"><field name="NUM">1</field></shadow></value></block></value><statement name="DO1"><block type="Sprite_blockCombine_set" id="k:ffY@h#:vRrM;0tPO{}"><field name="property">Sprite.vx@set</field><value name="mySprite"><block type="argument_reporter_custom" id=":LZ[}Bqcr$V8SV-_8UVt"><mutation typename="Sprite"/><field name="VALUE">sprite</field></block></value><value name="value"><block type="argument_reporter_number" id="#271od0HgZK|HNTVf~kD"><field name="VALUE">speed</field></block></value><next><block type="Sprite_blockCombine_set" id="`3!tL#dsZWf8;SwjN^2s"><field name="property">Sprite.vy@set</field><value name="mySprite"><block type="argument_reporter_custom" id=".1r9I]|rN66AU(NSF-,x"><mutation typename="Sprite"/><field name="VALUE">sprite</field></block></value><value name="value"><shadow type="math_number" id="?:iswg5Gj/m8e{RG,nXA"><field name="NUM">0</field></shadow></value></block></next></block></statement><value name="IF2"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="@|7c,L|O,i{UFVdUmkpW"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="X=c(xY}uIi^USuW5dN:*"><field name="VALUE">direction</field></block></value><value name="B"><shadow type="math_number" id="0]5Fep_yK_7Dk~AEs@sM"><field name="NUM">2</field></shadow></value></block></value><statement name="DO2"><block type="Sprite_blockCombine_set" id="C|z%6-tgCr2`czIJ_=~e"><field name="property">Sprite.vx@set</field><value name="mySprite"><block type="argument_reporter_custom" id="@i$y)yVB_=tj0#C_T^T9"><mutation typename="Sprite"/><field name="VALUE">sprite</field></block></value><value name="value"><shadow type="math_number" id="0GY@uaLs9PY^PyOLpbAD"><field name="NUM">0</field></shadow></value><next><block type="Sprite_blockCombine_set" id="mG1-veDXhL)qS*Qmhu9R"><field name="property">Sprite.vy@set</field><value name="mySprite"><block type="argument_reporter_custom" id="p8a4KAR+eD1NGqCa6R0("><mutation typename="Sprite"/><field name="VALUE">sprite</field></block></value><value name="value"><block type="argument_reporter_number" id="V;3/l!8NvRf`HS%;yD54"><field name="VALUE">speed</field></block></value></block></next></block></statement><statement name="ELSE"><block type="Sprite_blockCombine_set" id="pwUYc2{D?]ikH}FCFlJX"><field name="property">Sprite.vx@set</field><value name="mySprite"><block type="argument_reporter_custom" id="q{QNxmkx%xX.)bqY6:Rn"><mutation typename="Sprite"/><field name="VALUE">sprite</field></block></value><value name="value"><block type="math_arithmetic" id=":.ltx28I@RN-w!%9XK3I"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="w7NPoCqEoKPBBi9Uqck8"><field name="NUM">0</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id=":4q)HwOgwhPjY(X;$5W;"><field name="VALUE">speed</field></block></value></block></value><next><block type="Sprite_blockCombine_set" id="EML{P@11y%~0=XEyG-{X"><field name="property">Sprite.vy@set</field><value name="mySprite"><block type="argument_reporter_custom" id="hL}b;.)6]83-z[Qr4uL~"><mutation typename="Sprite"/><field name="VALUE">sprite</field></block></value><value name="value"><shadow type="math_number" id="/qBJU.[(j.OSkI0WII+G"><field name="NUM">0</field></shadow></value></block></next></block></statement></block></statement></block></xml>